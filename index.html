<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="theme-color" content="#FFF5EB">
    <meta name="apple-mobile-web-app-title" content="–§–æ—Ç–æ">
    <title>–ò–∑–º–µ–Ω–∏—Ç—å —Ä–∞–∑–º–µ—Ä —Ñ–æ—Ç–æ</title>
    <link rel="stylesheet" href="style.css">
    <link rel="manifest" href="manifest.json">
    <link rel="apple-touch-icon" href="icon-192.png">
    <link rel="icon" type="image/png" href="icon-192.png">
</head>
<body>
    <!-- –ü–ª–∞—à–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è -->
    <div id="update-banner" class="update-banner hidden">
        <span>üÜï –î–æ—Å—Ç—É–ø–Ω–∞ –Ω–æ–≤–∞—è –≤–µ—Ä—Å–∏—è</span>
        <button id="update-btn">–û–±–Ω–æ–≤–∏—Ç—å</button>
    </div>

    <!-- –ü–ª–∞—à–∫–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ PWA -->
    <div id="install-banner" class="install-banner hidden">
        <div class="install-content">
            <span class="install-icon">üì≤</span>
            <span class="install-text">–î–æ–±–∞–≤—å –Ω–∞ –¥–æ–º–∞—à–Ω–∏–π —ç–∫—Ä–∞–Ω –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞</span>
        </div>
        <div class="install-actions">
            <button id="install-btn" class="install-action-btn">–î–æ–±–∞–≤–∏—Ç—å</button>
            <button id="install-dismiss" class="install-dismiss">‚úï</button>
        </div>
    </div>

    <div class="container">
        <header>
            <h1>üñºÔ∏è –ò–∑–º–µ–Ω–∏—Ç—å —Ä–∞–∑–º–µ—Ä —Ñ–æ—Ç–æ</h1>
        </header>

        <main>
            <!-- –®–∞–≥ 1: –ó–∞–≥—Ä—É–∑–∫–∞ -->
            <section id="upload-section" class="card">
                <label for="file-input" class="upload-area" id="upload-area">
                    <span class="upload-icon">üì∑</span>
                    <span class="upload-text">–ù–∞–∂–º–∏, —á—Ç–æ–±—ã –≤—ã–±—Ä–∞—Ç—å —Ñ–æ—Ç–æ</span>
                    <span class="upload-hint">–∏–ª–∏ –ø–µ—Ä–µ—Ç–∞—â–∏ —Å—é–¥–∞</span>
                </label>
                <input type="file" id="file-input" accept="image/*,.heic,.heif" hidden>
            </section>

            <!-- –®–∞–≥ 2: –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ -->
            <section id="editor-section" class="card hidden">
                <div class="preview-container">
                    <img id="preview" alt="–ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä">
                </div>

                <div class="info-bar">
                    <span id="original-size">–ë—ã–ª–æ: ‚Äî</span>
                    <span id="new-size">–°—Ç–∞–ª–æ: ‚Äî</span>
                </div>

                <div class="controls">
                    <div class="size-inputs">
                        <div class="input-group">
                            <label for="width-input">–®–∏—Ä–∏–Ω–∞</label>
                            <div class="input-with-unit">
                                <input type="number" id="width-input" min="1" max="10000" placeholder="—à–∏—Ä–∏–Ω–∞">
                                <span class="unit">px</span>
                            </div>
                        </div>

                        <button id="link-btn" class="link-button active" title="–°–æ—Ö—Ä–∞–Ω—è—Ç—å –ø—Ä–æ–ø–æ—Ä—Ü–∏–∏">
                            <span class="link-icon">üîó</span>
                        </button>

                        <div class="input-group">
                            <label for="height-input">–í—ã—Å–æ—Ç–∞</label>
                            <div class="input-with-unit">
                                <input type="number" id="height-input" min="1" max="10000" placeholder="–≤—ã—Å–æ—Ç–∞">
                                <span class="unit">px</span>
                            </div>
                        </div>
                    </div>

                    <div class="proportions-hint" id="proportions-hint">
                        üîó –ü—Ä–æ–ø–æ—Ä—Ü–∏–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è
                    </div>

                    <div class="quick-sizes">
                        <span class="quick-label">–ë—ã—Å—Ç—Ä—ã–π –≤—ã–±–æ—Ä:</span>
                        <div class="quick-buttons">
                            <button class="quick-btn" data-height="1000">‚Üï 1000</button>
                            <button class="quick-btn" data-scale="0.5">50%</button>
                            <button class="quick-btn" data-scale="0.25">25%</button>
                            <button class="quick-btn" data-width="1200">‚Üî 1200</button>
                        </div>
                    </div>
                </div>

                <div class="actions">
                    <button id="reset-btn" class="btn btn-secondary">
                        <span>‚Ü©Ô∏è</span> –°–±—Ä–æ—Å–∏—Ç—å
                    </button>
                    <button id="save-btn" class="btn btn-primary">
                        <span>üíæ</span> –ì–æ—Ç–æ–≤–æ
                    </button>
                </div>

                <button id="new-photo-btn" class="btn btn-text">
                    üì∑ –í—ã–±—Ä–∞—Ç—å –¥—Ä—É–≥–æ–µ —Ñ–æ—Ç–æ
                </button>
            </section>
        </main>

        <footer>
            <p>–°–¥–µ–ª–∞–Ω–æ —Å ‚ù§Ô∏è –¥–ª—è –º–∞–º—ã</p>
        </footer>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è -->
        <div id="save-modal" class="modal hidden">
            <div class="modal-content">
                <h2>–°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Ñ–æ—Ç–æ</h2>

                <div class="filename-input">
                    <label for="filename-input">–ù–∞–∑–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–∞</label>
                    <div class="input-with-ext">
                        <input type="text" id="filename-input" placeholder="–í–≤–µ–¥–∏ –Ω–∞–∑–≤–∞–Ω–∏–µ">
                        <span class="ext" id="file-ext">.jpg</span>
                    </div>
                </div>

                <div class="modal-actions">
                    <button id="download-btn" class="btn btn-primary btn-full">
                        <span>üì•</span> –°–æ—Ö—Ä–∞–Ω–∏—Ç—å
                    </button>
                    <button id="email-btn" class="btn btn-secondary btn-full">
                        <span>üìß</span> –û—Ç–ø—Ä–∞–≤–∏—Ç—å –ø–æ –ø–æ—á—Ç–µ
                    </button>
                </div>

                <button id="cancel-modal-btn" class="btn btn-text">–û—Ç–º–µ–Ω–∞</button>
            </div>
        </div>

    <!-- –°–∫—Ä—ã—Ç—ã–π canvas –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ -->
    <canvas id="canvas" hidden></canvas>

    <script src="https://cdn.jsdelivr.net/npm/heic2any@0.0.4/dist/heic2any.min.js"></script>
    <script src="app.js"></script>
</body>
</html>
